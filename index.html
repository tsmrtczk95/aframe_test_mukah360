<html>
  <head>
    <meta charset="utf-8">
    <title>Mukah 360&deg; - Pesta Kaul Mukah</title>
    <meta name="description" content="360&deg; Image - A-Frame">
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script src="scripts/portal.js"></script>
    <script src="scripts/visual_effects.js"></script>
    <script src="scripts/portal_label.js"></script>
    <script src="scripts/audio_toggle.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
<!-- AUDIO. -->
        <audio id="click-sound" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
        <audio id="bg-music" src="asset_360/sape leto ngorek.mp3"></audio>
        <audio id="audioA" src="audio/audio_pestakaul.mp3"></audio>
<!-- IMAGE. -->
        <img id="360img" src="asset_360/kaul_signage.jpeg">
        <img id="thumb1" src="asset_360/kaul_stage.jpeg">
      </a-assets>
      
<!-- MAIN 360 IMAGE. -->
      <a-sky id="image-360" src="#360img" rotation="0 0 0"
        animation__fade="property: component.material.material.color; type: color; from: #FFF; to: #000; dur: 300; startEvents: fade"
        animation__fadeback="property: components.material.material.color; type: color; from: #000; to: #FFF; dur: 300; startEvents: animationcomplete__fade">
        </a-sky>
<!-- PORTALS. -->
      <a-sphere position="1.5 1 -5" radius="0.8" src="#thumb1" page-portal="page: scenes/scene2.html" portal-glow="color: #00e5ff; intensity: 1.2"
        portal-label="text: Stage; offset: 0 1.1 0; textScale: 2" sound="on: click; src: #click-sound"
        animation__hover="property: scale; startEvents: mouseenter; to: 1.2 1.2 1.2; dur: 200"
        animation__leave="property: scale; startEvents: mouseleave; to: 1 1 1; dur: 200">
      </a-sphere>
      
<!-- CONTENTS -->
<!-- AUDIO ENTITIES -->
      <a-entity id="bgMusic" sound="src: #bg-music; autoplay: true; loop: true; volume: 0.6"></a-entity>
      <a-entity id="aud-A" sound="src: #audioA; autoplay: false; loop: false; volume: 1; positional: true"></a-entity>
<!-- BACKGROUND MUSIC --><!-- PAUSE MODE -->
      <a-sphere position="1 1 3" radius="0.2" color="#ffaa00" 
        portal-label="text: Sape Leto Ngorek; offset: 0 -0.4 0; textScale: 1.3"
        audio-toggle="target: #bgMusic; mode: pause"
        animation__hover="property: scale; startEvents: mouseenter; to: 1.2 1.2 1.2; dur: 200"
        animation__leave="property: scale; startEvents: mouseleave; to: 0.8 0.8 0.8; dur: 200">
      </a-sphere>
<!-- AUDIO #1 --><!-- STOP & RESTART -->
      <a-sphere position="-1 1 3" radius="0.2" color="#ff4444"
        portal-label="text: Tentang Pesta Kaul; offset: 0 -0.4 0; textScale: 1.3"
        audio-toggle="target: #aud-A; mode: restart"
        animation__hover="property: scale; startEvents: mouseenter; to: 1.2 1.2 1.2; dur: 200"
        animation__leave="property: scale; startEvents: mouseleave; to: 0.8 0.8 0.8; dur: 200">
      </a-sphere>
<!-- PAUSE & RESUME TEMPLATE --><!--
      <a-sphere position="0 1.5 -4" radius="0.6"
        audio-toggle="target: #p3; mode: pause">
      </a-sphere>

<!-- CAMERA + CURSOR. -->
      <a-camera wasd-controls-enabled="false" cursor="rayOrigin: mouse">
        <a-cursor id="cursor"
          animation__click="property: scale; from: 0.1 0.1 0.1; to: 1 1 1; easing: easeInCubic; dur: 150; startEvents: click"
          animation__clickreset="property: scale; to: 0.1 0.1 0.1; dur: 1; startEvents: animationcomplete__click"
          animation__fusing="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; easing: easeInCubic; dur: 150; startEvents: fusing"></a-cursor>
        </a-camera>
      </a-scene>
  </body>
</html>
